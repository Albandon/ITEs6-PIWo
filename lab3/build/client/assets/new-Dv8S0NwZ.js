import{a as f,e as y,g as C,f as w,w as S}from"./firebase-DaOuSY5x.js";import{a as o,o as e}from"./chunk-BAXFHI7N-C8WG0Srv.js";import{a as A}from"./BooksContext-mFaCNzkU.js";function F(){const{booksList:l,setBooksList:g}=o.useContext(A),[d,r]=o.useState(""),[i,n]=o.useState(""),[c,u]=o.useState(""),[b,h]=o.useState(""),[m,k]=o.useState(""),[q,p]=o.useState(""),[x,v]=o.useState(""),N=async a=>{a.preventDefault();const s={title:d,author:i,description:c,price:b,pages:m,cover:"/witcher.jpg",coverType:x};g(t=>t.concat([s])),r(""),n(""),u(""),h(""),k(""),v(""),p(null),console.log("Dodano książkę:",s),console.log(l),(async t=>{const j=f.currentUser;await y(C(w,"books"),{...t,userId:j?j.uid:null})})(s)};return e.jsxs("div",{className:"main-container-add",children:[e.jsx("h1",{className:"view-header",children:"Dodawanie ogłoszenia"}),e.jsxs("form",{className:"add-parameters-container",onSubmit:N,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"book-add-title",className:"add-book-label",children:"Tytuł"}),e.jsx("input",{id:"book-add-title",className:"add-book-value",type:"text",value:d,onChange:a=>r(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"book-add-Author",className:"add-book-label",children:"Autor"}),e.jsx("input",{id:"book-add-Author",className:"add-book-value",type:"text",value:i,onChange:a=>n(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"book-add-description",className:"add-book-label",children:"Opis"}),e.jsx("input",{id:"book-add-description",className:"add-book-value",type:"text",value:c,onChange:a=>u(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"book-add-price",className:"add-book-label",children:"Cena"}),e.jsx("input",{id:"book-add-price",className:"add-book-value",type:"number",min:"0",value:b,onChange:a=>h(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"book-add-page-number",className:"add-book-label",children:"Liczba stron"}),e.jsx("input",{id:"book-add-page-number",className:"add-book-value",type:"number",min:"1",value:m,onChange:a=>k(a.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter-cover",className:"add-book-label",children:"Okładka"}),e.jsxs("select",{id:"filter-cover",className:"add-book-value",value:x,onChange:a=>v(a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Wybierz"}),e.jsx("option",{value:"soft",children:"Miękka"}),e.jsx("option",{value:"hard",children:"Twarda"})]})]}),e.jsxs("div",{className:"book-add-title",children:[e.jsx("label",{htmlFor:"image",className:"add-book-label",children:"Okładka książki:"}),e.jsx("input",{type:"file",className:"add-book-value",accept:"image/*",onChange:a=>p(a.target.files[0])})]}),e.jsx("div",{children:e.jsx("button",{className:"cart-links",type:"submit",children:"Dodaj książkę"})})]})]})}const L=S(function(){return e.jsx("main",{children:e.jsx(F,{})})});export{L as default};
